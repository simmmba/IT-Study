# 중계 장치

- 최종 단말기 간 패킷 교환을 가능하게 하기 위해 설계
- 허브, 브릿지, 스위치, 모뎀, 방화벽, 멀티플렉서, WAP(무선 액세스 포인트)
- 허브, 브릿지, 스위치, 라우터 및 WAP이 담당하는 주요 기능 : 패킷을 **LAN**과 **WAN**을 통해 전달



---



### 1. 중계 기기의 운영 계층

| 계층        | 중계 (혹은 네트워킹) 기기          |
| ----------- | ---------------------------------- |
| 인터넷      | 라우터, 계층 3 스위치              |
| 데이터 링크 | 브릿지, 무선 액세스 포인트, 스위치 |
| 물리적      | 허브(다중 포트 리피터)             |

- 전송 계층 이하 계층에서만 각자의 기능 수행
- 물리적 계층을 제외한 중계 기기들은 운영 시스템을 가지고 있음
- 중계 기기의 운영 시스템은 상대적으로 규모가 작아 비휘발성기억장치에 저장될 수 있음
- 리피터 : 네트워크 선로를 통해 전달되는 신호를 증폭하여 연결된 네트워크로 전송, 근거리 통신망(LAN)의 전송매체상에 흐르는 신호를 정형, 증폭, 중계하는 장치



### 2. 허브 (다중 포트 리피터)

- 들어오는 신호를 받아서 프레임 전송, 신호의 강도 및 형태 재생성
- 전파를 연결된 포트로 재생하여 중계하는 물리적 장치 (운영 시스템 x)
- 제한된 네트워크 접속만 허용하는 **공유된 매체 환경**
- **반이중 방식** : 프레임이 한 번에 한 방향으로만 흐르도록 함
- 프레임을 받으면 입력 포트를 제외한 연결된 모든 포트에 전송 (비차별적 전송 기능)
  - 매칭되는 목적지 **MAC** 주소를 가진 최종 단말기가 해당 프레임을 자신의 NIC 메모리에 복제하고 처리함. MAC 주소가 매칭되지 않으면 해당 프레임 버림
- 한계점 
  - 프레임 도용이 쉬워 단말기 보안 취약
  - 단말기 NIC가 **무차별 모드**에 있을 경우, NIC의 MAC 주소와 프레임의 목적지 MAC 주소가 일치하지 않아도 들어오는 모든 프레임을 읽고 처리함
    - 갑자기 프레임을 보내는 단말기가 여러 대일 경우 시그널 충돌 가능성 커짐
    - 호스트 NIC는 **공유된 매체 환경** 하에서 프레임 충돌을 피하고, 충돌 시 대처하기 위해 설계된 **CSMA/CD** 프로토콜 활성화



### 3. 브릿지

- 리피터의 기능을 모두 갖고 있음
- 네트워크를 관리 가능한 작은 단위로 세분화하기 위해 설계된 2계층의 장치
- 포트에 도착하는 모든 프레임의 MAC 주소를 읽어서 자체 브릿지 테이블에 있는 정보들을 참조하여 프레임을 전달하거나 거름
- 프레임의 목적지 주소가 같은 네트워크 세그먼트 내에 있으면 걸러냄
- 유니캐스트 방식 : 들어오는 프레임의 목적지 주소가 같은 네트워크 세그먼트 내에 있으면 해당 프레임을 걸러냄
- 장점
  - 불필요한 트래픽 흐름을 줄여 네트워크 대응 시간을 향상시킴
  - 독립된 내부-세그먼트의 유니캐스트 전송에 대해서는 효과적
- 단점
  - 다른 네트워크 세그먼트로 브로드캐스팅된 프레임이 넘쳐나는 상황 통제 불가능

1. 투과적 브릿지
2. 비투과적 브릿지
3. **무선 액세스 포인트(WAP: wireless access point)**
   - 무선 LAN의 장소에 구애받지 않고 활용할 수 있는 특성으로 인해 이더넷(선으로 연결된 세그먼트)와 802.11 WiFi(무선 세그먼트) 간에 연결성을 제공하는 WAP이 보편화
   - 이더넷과 WiFi는 서로 다른 정보 필드 항목들을 가진 고유한 프레임 구조를 가지고 있는데, WAP이 그것들 간의 변환을 담당



### 4. 스위치(Switches)

- 2계층 기기 (데이터링크 계층)
- 최종 단말기들 간에 데이터 링크를 형성하는데 가장 많이 사용되는 중계장치
- 각 포트에는 영구적인 MAC 주소가 할당
- 해당 목적지 호스트에 직접 혹은 간접적으로 연결된 포트에만 전달
- 입력 포트와 출력 포트 간의 일대일 대응 전송은 네트워크 혼잡도와 프레임 충돌 가능성 저하
- 각 포트별 대기 명령 or 공동 대기 공간을 두어 모든 포트들 공유 가능하게 함
- 이더넷 LAN에서 많이 사용됨
- 입수한 프레임에 대한 전송 결정을 하는데 오직 MAC 주소만 필요함
- **이중 전송(full-duplex)** : 두 대의 단말기가 데이터를 송수신하기 위해 동시에 각각 독립된 회선을 사용하는 통신 방식
- 한 개 입력 포트와 한 개 출력 포트를 연결하는 방식을 통해, 두 개 최종 단말기 사이에 프레임을 이중 전송(full-duplex) 방식으로 전송하는 여러 개 데이터 링크들이 동시에 생성될 수 있게 함
- 스위치 포트는 이중 전송 연결을 하기 위해 두 개의 분리된 노선을 가짐
- 일반적으로 유니캐스팅 방식이지만 필요에 따라 브로드 캐스팅이나 멀티캐스팅 방식 사용

##### 스위치 테이블 엔트리(entry)

- 스위치는 들어오는 프레임을 자체 스위치 테이블의 엔트리들을 참조하여 전송
- 스위치 테이블은 직간접적으로 연결된 호스트의 MAC 주소들과 그것들의 출력 포트들, 주소 유형(address type), 가상 LAN(VLAN)등의 정보 저장
- 주소 유형 필드는 해당 엔트리가 정적(static)인지 동적(dynamic - 스위치 러닝을 통해 자동으로 얻어지는) 인지 알려주는 역할을 함
  1. 정적 엔트리 : 네트워크에 어떤 호스트 단말기가 추가될 수 있는지 네트워크 관리자가 결정
  2. 동적 엔트리 : 동적 자기-학습 프로세스를 통해 스위치 테이블 엔트리를 자동 추가



### 5. 라우터

- **LAN을 연결해주는 장치**
- 최종 목적지에 가기 위하여 거쳐야하는 경로들 중 적절한 통신 경로를 결정하기 위하여 한 통신망에서 다른 통신망으로 데이터 **패킷**을 전송하는 장치
- 임의의 네트워크와 내부 네트워크를 연결하기 위한 네트워크 장비



<br />



[출처 1](https://blog.naver.com/hello_sail/221685636741)

[출처 2](https://blog.naver.com/hello_sail/221685739459)

[출처 3](http://melonicedlatte.com/network/2019/12/21/154500.html)

[출처 4](https://minwan1.github.io/2018/10/01/2018-09-03-network-network-divice/)